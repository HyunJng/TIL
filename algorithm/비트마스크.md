# 비트마스크
## 1. 비트마스크란?
* 여러 개의 true / false 상태를 정수 하나로 압축해서 표현하는 방법
* boolean 배열을 대신한다.

| mask (2진) | 의미          |
| --------- | ----------- |
| 0000      | 아무 도시도 방문 X |
| 0001      | 0번 방문       |
| 0101      | 0번, 2번 방문   |
| 1111      | 전부 방문       |

---

## 2. 비트마스크를 사용하는 이유
**boolean 배열 방식**
```java
dfs(visited, now)
```
* 핵심 이유: DP 상태를 “키”로 쓰기 위해서
  * visited 배열은 배열
  * 배열은 DP의 키가 될 수 없음
  * 매번 상태 비교가 불가능

**비트마스크의 장점**
```java
dfs(mask, now)
```
* mask = 정수
* 정수 + now → DP 배열 인덱스 가능
* dp[mask][now] 가능
→ 상태 비교 + 메모이제이션 가능

---
## 3. 비트마스크 연산
| 개념    | boolean[]        | 비트마스크          |          |
| ----- | ---------------- | -------------- | -------- |
| 방문 체크 | visited[i]       | mask & (1<<i)  |          |
| 방문 표시 | visited[i]=true  | mask           | = (1<<i) |
| 방문 해제 | visited[i]=false | mask ^= (1<<i) |          |

### 3.1. 연산 ①. 방문 체크
**visited 배열**
```java
if (visited[i]) { ... }
```
**비트마스크**
```java
if ((mask & (1 << i)) != 0) { ... }
```

**예시**
```java
mask = 0101
i = 2

1<<2 = 0100
0101 & 0100 = 0100 (0 아님) → 방문함
```
---
### 3.2. 연산 ②. 방문 표시
**visited 배열**
```java
visited[i] = true;
```
**비트마스크**
```java
mask = mask | (1 << i);
```

**예시**
```java
mask = 0001
i = 2

1<<2 = 0100
0001 | 0100 = 0101
```
---
### 3.3. 연산 ③. 방문 해제
**visited 배열**
```java
visited[i] = false;
```
**비트마스크**
```java
mask = mask ^ (1 << i);
```